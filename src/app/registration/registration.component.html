<form [formGroup]="registrationForm" class="container registration">
  <div class="row no-gutters item">
    <div class="col-12">
      <input formControlName="name" placeholder="Name" required type="text" [class.invalid-input]="name.invalid && (name.dirty || name.touched)">
      <p class="error" *ngIf="name.invalid && (name.dirty || name.touched) && name.errors?.required">Name is required!</p>
    </div>
  </div>

  <div class="row no-gutters item">
    <div class="col-12">
      <input formControlName="email" placeholder="Email" required type="email" [class.invalid-input]="email.invalid && (email.dirty || email.touched)">
      <p class="error" *ngIf="(email.dirty || email.touched) && email.invalid && email.errors?.required">Email is required!</p>
      <p class="error" *ngIf="(email.dirty || email.touched) && email.invalid && email.errors?.email">Wrong email format!</p>
    </div>
  </div>

  <ng-container [formGroup]="password_group">
    <div class="row no-gutters item">
      <div class="col-12">
        <input formControlName="password" placeholder="Password" required type="password" minlength="6"
          [class.invalid-input]="password.invalid && (password.dirty || password.touched) ">
        <p class="error" *ngIf="(password.dirty || password.touched) && password.invalid && password.errors?.required">Password is required!</p>
        <p class="error" *ngIf="(password.dirty || password.touched) && password.invalid && password.errors?.minlength">Password must consist of 6 characters minimum</p>
      </div>
    </div>

    <div class="row no-gutters item">
      <div class="col-12">
        <input formControlName="password_confirmation" placeholder="Password confirmation" required type="password" minlength="6" [class.invalid-input]="(password_confirmation.invalid || password_group.invalid) && (password_confirmation.dirty || password_confirmation.touched)">
        <p class="error" *ngIf="(password_confirmation.dirty || password_confirmation.touched) && password_confirmation.invalid && password_confirmation.errors?.required">Confirm your password!</p>
        <p class="error" *ngIf="(password_confirmation.dirty || password_confirmation.touched) && password_confirmation.invalid && password_confirmation.errors?.minlength">Password confirmation must consist of 6 characters minimum!</p>
        <p class="error" *ngIf="password_group.invalid && password_group.errors?.notSame && (password_confirmation.dirty || password_confirmation.touched)">Not equal passwords!</p>
      </div>
    </div>
  </ng-container>

  <div class="row item justify-content-between align-items-center">
    <div class="col-8">
      <a routerLink="/login" class="action">Already have an account?</a>
    </div>
    <div class="col-4">
      <button [disabled]="registrationForm.invalid" [class.invalid]="registrationForm.invalid" (click)="register()" class="action">Register</button>
    </div>
  </div>

</form>

